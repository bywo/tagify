{"version":3,"file":"static/webpack/static/development/pages/index.js.8fe9dd0dc71d81a042a3.hot-update.js","sources":["webpack:///./components/TableRow.js"],"sourcesContent":["import {\n  List,\n  AutoSizer,\n  CellMeasurer,\n  CellMeasurerCache\n} from \"react-virtualized\";\nimport Select from \"react-select\";\nimport randomMC from \"random-material-color\";\n\nexport default class TableRow extends React.Component {\n  componentWillMount() {\n    console.log(\"willMount\");\n  }\n\n  shouldComponentUpdate(nextProps) {\n    console.log(\"shouldUpdate\", this.props.track.name, nextProps.track.name);\n    if (this.props.track.uri !== nextProps.track.uri) {\n      return true;\n    }\n\n    if (this.props.tags.length !== nextProps.tags.length) {\n      return true;\n    }\n\n    if (this.props.trackColWidth !== nextProps.trackColWidth) {\n      return true;\n    }\n\n    if (this.props.artistColWidth !== nextProps.artistColWidth) {\n      return true;\n    }\n\n    if (this.props.style.height !== nextProps.style.height) {\n      return true;\n    }\n\n    console.log(\"return false\");\n    return false;\n  }\n\n  render() {\n    return (\n      <CellMeasurer\n        cache={this.props.cellMeasurerCache}\n        columnIndex={0}\n        rowIndex={this.props.index}\n        parent={this.props.parent}\n      >\n        <div\n          style={{\n            display: \"flex\",\n            borderBottom: \"solid 1px gray\"\n          }}\n        >\n          <div\n            style={{\n              flexShrink: \"0\",\n              width: this.props.trackColWidth,\n              padding: \"4px\"\n            }}\n          >\n            {this.props.track.name}\n          </div>\n          <div\n            style={{\n              flexShrink: \"0\",\n              width: this.props.artistColWidth,\n              padding: \"4px\"\n            }}\n          >\n            {this.props.track.artists.map((a, index) => (\n              <span key={a.id}>\n                {a.name}\n                {index !== this.props.track.artists.length - 1 ? \", \" : null}\n              </span>\n            ))}\n          </div>\n          <div\n            style={{\n              flexGrow: \"1\",\n              padding: \"4px\"\n            }}\n          >\n            <Select\n              isMulti\n              isSearchable\n              options={this.props.playlistIds}\n              value={this.props.tags}\n              getOptionLabel={playlistId =>\n                this.props.playlistsById[playlistId].name\n              }\n              getOptionValue={playlistId => playlistId}\n              onChange={playlistIds => {\n                this.props.cellMeasurerCache.clear(this.props.index);\n                const added = _.difference(playlistIds, this.props.tags);\n                const deleted = _.difference(this.props.tags, playlistIds);\n                added.forEach(playlistId => {\n                  this.props.addTag(this.props.track.uri, playlistId);\n                });\n                deleted.forEach(playlistId => {\n                  this.props.removeTag(this.props.track.uri, playlistId);\n                });\n              }}\n              styles={{\n                multiValue: (styles, { data }) => ({\n                  ...styles,\n                  backgroundColor: randomMC.getColor({ text: data })\n                }),\n                multiValueLabel: styles => ({\n                  ...styles,\n                  color: \"white\"\n                })\n              }}\n            />\n          </div>\n        </div>\n      </CellMeasurer>\n    );\n  }\n}\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AAMA;AACA;AACA;AACA;;;;;;;;;;;;;AACA;AACA;AACA;;;AAEA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAEA;AAAA;AACA;AAAA;AAEA;AACA;AACA;AACA;AAJA;AAAA;AAAA;AAAA;AAAA;AAAA;AAOA;AACA;AACA;AAFA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAOA;AACA;AACA;AACA;AAHA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAUA;AACA;AACA;AACA;AAHA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAOA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADA;AAQA;AACA;AACA;AAFA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAOA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAGA;AAAA;AAAA;AACA;AACA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAEA;AAAA;AAAA;AAFA;AAAA;AAIA;AAAA;AAEA;AAFA;AAAA;AALA;AApBA;AAAA;AAAA;AAAA;AAAA;AAAA;AAmCA;;;;AA7GA;AACA;;;;;A","sourceRoot":""}